<div class="badges-container">
  <div class="header">
    <button class="back-button" (click)="goBack()">← Back</button>
    <h1>Hike Gang Badges</h1>
    <button class="sync-button" (click)="triggerSync()">
      🔄 Sync Activities
    </button>
  </div>

  <div class="sync-status" *ngIf="syncStatus">
    <p><strong>Sync Status:</strong> {{ syncStatus }}</p>
  </div>

  <div class="badge-grid">
    <div
      class="badge-slot"
      *ngFor="let badge of badges"
      (click)="showInfo(badge)"
    >
      <img
        [src]="badge.image"
        [alt]="badge.name"
        [ngStyle]="{ filter: getTierFilter(badge.tier) }"
      />
    </div>
  </div>

  <!-- Popup -->
  <div class="badge-popup" *ngIf="selectedBadge" (click)="selectedBadge = null">
    <div class="popup-inner">
      <div class="badge-preview" *ngIf="selectedBadge">
        <img
          [src]="selectedBadge.image"
          [alt]="selectedBadge.name"
          [ngStyle]="{ filter: getTierFilter(selectedBadge.tier) }"
        />
      </div>
      <h2>{{ selectedBadge.name }}</h2>
      <p>{{ selectedBadge.description }}</p>
      <small>(Click anywhere to close)</small>
    </div>
  </div>
</div>
